"use strict";

var _tape = require("tape");

var _tape2 = _interopRequireDefault(_tape);

var _installPeerdeps = require("./install-peerdeps");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(0, _tape2.default)("gets the package data from the registry correctly", function (t) {
  // Only one async operation will run
  t.plan(1);
  (0, _installPeerdeps.getPackageData)({
    packageName: "eslint-config-airbnb",
    registry: "https://registry.npmjs.com"
  }).then(function (packageData) {
    t.equal(packageData.name, "eslint-config-airbnb");
    t.end();
  }, t.fail);
});

(0, _tape2.default)("gets the package data from a custom registry correctly", function (t) {
  // Only one async operation will run
  t.plan(1);
  (0, _installPeerdeps.getPackageData)({
    packageName: "@nathanhleung/install-peerdeps-custom-registry-test",
    registry: "https://" + process.env.GITHUB_USERNAME + ":" + process.env.GITHUB_PACKAGE_INSTALL_TOKEN + "@npm.pkg.github.com"
  }).then(function (packageData) {
    t.equal(packageData.name, "@nathanhleung/install-peerdeps-custom-registry-test");
    t.end();
  }, t.fail);
});